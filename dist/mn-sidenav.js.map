{"version":3,"sources":["scripts/mn-sidenav.class.js"],"names":["MnSidenav","self","_this","_ret","_classCallCheck","this","classList","add","setOpenEvents","setToggleEvents","setCloseEvents","_possibleConstructorReturn","_this2","document","addEventListener","event","target","matches","id","toggle","stopPropagation","_this3","open","_this4","close","clickOutside","closest","sidebarVisible","contains","esc","keyCode","isOpened","body","sidenav","querySelector","remove","fontSizeHTML","parseInt","window","getComputedStyle","getPropertyValue","activeElement","scrollTop","offsetTop","MnBackdrop","show","hide","HTMLElement","customElements","define"],"mappings":"sxCAAMA,UAAAA,SAAAA,cACJ,QAAAA,WAAYC,MAAM,GAAAC,OAAAC,IAMhB,OANgBC,iBAAAC,KAAAL,WAChBC,KAAAA,MAAAA,2BAAAA,MAAAA,UAAAA,WAAAA,OAAAA,eAAAA,YAAAA,KAAAA,KAAaA,OACbC,MAAKI,UAAUC,IAAI,WACnBL,MAAKM,gBACLN,MAAKO,kBACLP,MAAKQ,iBACLP,KAAOF,KAAPU,2BAAAT,MAAAC,+GAGgB,GAAAS,QAAAP,IAChBQ,UAASC,iBAAiB,QAAS,SAAAC,OAC7BA,MAAMC,OAAOC,QAAb,oBAAyCL,OAAKM,GAA9C,QACFN,OAAKO,SACLJ,MAAMK,6DAKI,GAAAC,QAAAhB,IACdQ,UAASC,iBAAiB,QAAS,SAAAC,OAC7BA,MAAMC,OAAOC,QAAb,kBAAuCI,OAAKH,GAA5C,QACFG,OAAKC,OACLP,MAAMK,8DAKK,GAAAG,QAAAlB,IACfQ,UAASC,iBAAiB,QAAS,SAAAC,OAC7BA,MAAMC,OAAOC,QAAQ,qBACvBM,OAAKC,QACLT,MAAMK,qBAIVP,SAASC,iBAAiB,QAAS,SAAAC,OACjC,GAAMU,gBAAgBV,MAAMC,OAAOC,QAAQ,mBACrCF,MAAMC,OAAOC,QAAQ,oBACrBF,MAAMC,OAAOC,QAAQ,qBACrBF,MAAMC,OAAOU,QAAQ,eACrBC,eAAiBJ,OAAKjB,UAAUsB,SAAS,UAE3CH,eAAgBE,gBAClBJ,OAAKC,UAITX,SAASC,iBAAiB,QAAS,SAAAC,OACjC,GAAMc,KAAwB,KAAlBd,MAAMe,QACZC,SAAWlB,SAASmB,KAAK1B,UAAUsB,SAAS,qBAElD,IAAIC,KAAOE,SAAU,CACnB,GAAME,SAAUpB,SAASqB,cAAc,qBACvCrB,UAASmB,KAAK1B,UAAU6B,OAAO,sBAC/BF,QAAQ3B,UAAU6B,OAAO,6CAM7B,GAAMC,cAAeC,SAASC,OAAOC,iBAAiB1B,SAASmB,KAAM,MAAMQ,iBAAiB,cACtFC,cAAgBpC,KAAK6B,cAAc,UACzC7B,MAAKqC,UAAYD,cACbA,cAAcE,UAA2B,IAAfP,aAC1B,EACJ/B,KAAKC,UAAUC,IAAI,WACnBM,SAASmB,KAAK1B,UAAUC,IAAI,sBAC5B+B,OAAOM,WAAWC,uCAIlBhC,SAASmB,KAAK1B,UAAU6B,OAAO,sBAC/B9B,KAAKC,UAAU6B,OAAO,WACtBG,OAAOM,WAAWE,wCAIlBzC,KAAKC,UAAUa,OAAO,WAClBd,KAAKiB,OACLjB,KAAKmB,uBAhFWuB,YAoFxBT,QAAOU,eAAeC,OAAO,aAAcjD","file":"mn-sidenav.js","sourcesContent":["class MnSidenav extends HTMLElement {\n  constructor(self) {\n    self = super(self)\n    this.classList.add('mn-card')\n    this.setOpenEvents()\n    this.setToggleEvents()\n    this.setCloseEvents()\n    return self\n  }\n\n  setToggleEvents() {\n    document.addEventListener('click', event => {\n      if (event.target.matches(`[toggle-sidenav=\"${this.id}\"]`)) {\n        this.toggle()\n        event.stopPropagation()\n      }\n    })\n  }\n\n  setOpenEvents() {\n    document.addEventListener('click', event => {\n      if (event.target.matches(`[open-sidenav=\"${this.id}\"]`)) {\n        this.open()\n        event.stopPropagation()\n      }\n    })\n  }\n\n  setCloseEvents() {\n    document.addEventListener('click', event => {\n      if (event.target.matches('[close-sidenav]')) {\n        this.close()\n        event.stopPropagation()\n      }\n    })\n\n    document.addEventListener('click', event => {\n      const clickOutside = !event.target.matches('[open-sidenav]')\n        && !event.target.matches('[close-sidenav]')\n        && !event.target.matches('[toggle-sidenav]')\n        && !event.target.closest('mn-sidenav')\n      const sidebarVisible = this.classList.contains('visible')\n\n      if (clickOutside && sidebarVisible) {\n        this.close()\n      }\n    })\n\n    document.addEventListener('keyup', event => {\n      const esc = event.keyCode === 27\n      const isOpened = document.body.classList.contains('mn-sidenav-visible')\n\n      if (esc && isOpened) {\n        const sidenav = document.querySelector('mn-sidenav.visible')\n        document.body.classList.remove('mn-sidenav-visible')\n        sidenav.classList.remove('visible')\n      }\n    })\n  }\n\n  open() {\n    const fontSizeHTML = parseInt(window.getComputedStyle(document.body, null).getPropertyValue('font-size'))\n    const activeElement = this.querySelector('.active')\n    this.scrollTop = activeElement\n      ? activeElement.offsetTop - fontSizeHTML * 1.5\n      : 0\n    this.classList.add('visible')\n    document.body.classList.add('mn-sidenav-visible')\n    window.MnBackdrop.show()\n  }\n\n  close() {\n    document.body.classList.remove('mn-sidenav-visible')\n    this.classList.remove('visible')\n    window.MnBackdrop.hide()\n  }\n\n  toggle() {\n    this.classList.toggle('visible')\n      ? this.open()\n      : this.close()\n  }\n}\n\nwindow.customElements.define('mn-sidenav', MnSidenav)\n"]}
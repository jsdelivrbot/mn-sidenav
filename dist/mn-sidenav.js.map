{"version":3,"sources":["/sources/scripts/mn-sidenav.class.js"],"names":["MnSidenav","self","_this","_ret","_classCallCheck","this","classList","add","setOpenEvents","setToggleEvents","setCloseEvents","_possibleConstructorReturn","_this2","buttons","document","querySelectorAll","id","Array","from","forEach","button","addEventListener","event","toggle","stopPropagation","_this3","open","_this4","close","clickOutside","target","closest","sidebarVisible","contains","esc","keyCode","isOpened","body","sidenav","querySelector","remove","scrollTop","window","MnBackdrop","show","hide","HTMLElement","customElements","define"],"mappings":"sxCAAMA,UAAAA,SAAAA,cACJ,QAAAA,WAAYC,MAAM,GAAAC,OAAAC,IAMhB,OANgBC,iBAAAC,KAAAL,WAChBC,KAAAA,MAAAA,2BAAAA,MAAAA,UAAAA,WAAAA,OAAAA,eAAAA,YAAAA,KAAAA,KAAaA,OACbC,MAAKI,UAAUC,IAAI,WACnBL,MAAKM,gBACLN,MAAKO,kBACLP,MAAKQ,iBACLP,KAAOF,KAAPU,2BAAAT,MAAAC,+GAGgB,GAAAS,QAAAP,KACVQ,QAAUC,SAASC,iBAAT,oBAA8CV,KAAKW,GAAnD,KAEhBC,OACGC,KAAKL,SACLM,QAAQ,SAAAC,QAAA,MAAUA,QAAOC,iBAAiB,QAAS,SAAAC,OAClDV,OAAKW,SACLD,MAAME,8DAII,GAAAC,QAAApB,KACRQ,QAAUC,SAASC,iBAAT,kBAA4CV,KAAKW,GAAjD,KAEhBC,OACGC,KAAKL,SACLM,QAAQ,SAAAC,QAAA,MAAUA,QAAOC,iBAAiB,QAAS,SAAAC,OAClDG,OAAKC,OACLJ,MAAME,+DAIK,GAAAG,QAAAtB,KACTQ,QAAUC,SAASC,iBAAiB,kBAE1CE,OACGC,KAAKL,SACLM,QAAQ,SAAAC,QAAA,MAAUA,QAAOC,iBAAiB,QAAS,WAAA,MAAMM,QAAKC,YAEjEd,SAASO,iBAAiB,QAAS,SAAAC,OACjC,GAAMO,eAAgBP,MAAMQ,OAAOC,QAAQ,cACrCC,eAAiBL,OAAKrB,UAAU2B,SAAS,UAE3CJ,eAAgBG,gBAClBL,OAAKC,UAITd,SAASO,iBAAiB,QAAS,SAAAC,OACjC,GAAMY,KAAwB,KAAlBZ,MAAMa,QACZC,SAAWtB,SAASuB,KAAK/B,UAAU2B,SAAS,qBAElD,IAAIC,KAAOE,SAAU,CACnB,GAAME,SAAUxB,SAASyB,cAAc,qBACvCzB,UAASuB,KAAK/B,UAAUkC,OAAO,sBAC/BF,QAAQhC,UAAUkC,OAAO,6CAM7BnC,KAAKoC,UAAY,EACjBpC,KAAKC,UAAUC,IAAI,WACnBO,SAASuB,KAAK/B,UAAUC,IAAI,sBAC5BmC,OAAOC,WAAWC,uCAIlB9B,SAASuB,KAAK/B,UAAUkC,OAAO,sBAC/BnC,KAAKC,UAAUkC,OAAO,WACtBE,OAAOC,WAAWE,wCAIlBxC,KAAKC,UAAUiB,OAAO,WAClBlB,KAAKqB,OACLrB,KAAKuB,uBA5EWkB,YAgFxBC,gBAAeC,OAAO,aAAchD","file":"mn-sidenav.js","sourcesContent":["class MnSidenav extends HTMLElement {\n  constructor(self) {\n    self = super(self)\n    this.classList.add('mn-card')\n    this.setOpenEvents()\n    this.setToggleEvents()\n    this.setCloseEvents()\n    return self\n  }\n\n  setToggleEvents() {\n    const buttons = document.querySelectorAll(`[toggle-sidenav=\"${this.id}\"]`)\n\n    Array\n      .from(buttons)\n      .forEach(button => button.addEventListener('click', event => {\n        this.toggle()\n        event.stopPropagation()\n      }))\n  }\n\n  setOpenEvents() {\n    const buttons = document.querySelectorAll(`[open-sidenav=\"${this.id}\"]`)\n\n    Array\n      .from(buttons)\n      .forEach(button => button.addEventListener('click', event => {\n        this.open()\n        event.stopPropagation()\n      }))\n  }\n\n  setCloseEvents() {\n    const buttons = document.querySelectorAll('[close-sidenav]')\n\n    Array\n      .from(buttons)\n      .forEach(button => button.addEventListener('click', () => this.close()))\n\n    document.addEventListener('click', event => {\n      const clickOutside = !event.target.closest('mn-sidenav')\n      const sidebarVisible = this.classList.contains('visible')\n\n      if (clickOutside && sidebarVisible) {\n        this.close()\n      }\n    })\n\n    document.addEventListener('keyup', event => {\n      const esc = event.keyCode === 27\n      const isOpened = document.body.classList.contains('mn-sidenav-visible')\n\n      if (esc && isOpened) {\n        const sidenav = document.querySelector('mn-sidenav.visible')\n        document.body.classList.remove('mn-sidenav-visible')\n        sidenav.classList.remove('visible')\n      }\n    })\n  }\n\n  open() {\n    this.scrollTop = 0\n    this.classList.add('visible')\n    document.body.classList.add('mn-sidenav-visible')\n    window.MnBackdrop.show()\n  }\n\n  close() {\n    document.body.classList.remove('mn-sidenav-visible')\n    this.classList.remove('visible')\n    window.MnBackdrop.hide()\n  }\n\n  toggle() {\n    this.classList.toggle('visible')\n      ? this.open()\n      : this.close()\n  }\n}\n\ncustomElements.define('mn-sidenav', MnSidenav)\n"]}